{"ast":null,"code":"var _jsxFileName = \"/Users/tmg/Desktop/burger/src/components/ContactData/index.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport css from \"./style.module.css\";\nimport Button from \"../General/Button\";\nimport Spinner from \"../General/Spinner\";\nimport axios from \"../../axios-orders\";\nimport { withRouter } from \"react-router-dom\";\nimport * as actions from \"../../redux/actions/orderActions\";\n\nclass ContactData extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: null,\n      city: null,\n      street: null\n    };\n\n    this.changeName = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.changeStreet = e => {\n      this.setState({\n        street: e.target.value\n      });\n    };\n\n    this.changeCity = e => {\n      this.setState({\n        city: e.target.value\n      });\n    };\n\n    this.saveOrder = () => {\n      const newOrder = {\n        userId: this.props.userId,\n        orts: this.props.ingredients,\n        dun: this.props.price,\n        hayag: {\n          name: this.state.name,\n          city: this.state.city,\n          street: this.state.street\n        }\n      };\n      this.props.saveOrderAction(newOrder);\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.props.newOrderStatus.finished && !this.props.newOrderStatus.error) {\n      this.props.history.replace(\"/orders\");\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: css.ContactData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u0414\\u04AF\\u043D : \", this.props.price, \"\\u20AE\", React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.props.newOrderStatus.error && `Захиалгыг хадгалах явцад алдаа гарлаа : ${this.props.newOrderStatus.error}`), this.props.newOrderStatus.saving ? React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.changeName,\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"\\u0422\\u0430\\u043D\\u044B \\u043D\\u044D\\u0440\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      onChange: this.changeStreet,\n      type: \"text\",\n      name: \"street\",\n      placeholder: \"\\u0422\\u0430\\u043D\\u044B \\u0433\\u044D\\u0440\\u0438\\u0439\\u043D \\u0445\\u0430\\u044F\\u0433\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      onChange: this.changeCity,\n      type: \"text\",\n      name: \"city\",\n      placeholder: \"\\u0422\\u0430\\u043D\\u044B \\u0445\\u043E\\u0442\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(Button, {\n      text: \"\\u0418\\u041B\\u0413\\u042D\\u042D\\u0425\",\n      btnType: \"Success\",\n      daragdsan: this.saveOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    price: state.burgerReducer.totalPrice,\n    ingredients: state.burgerReducer.ingredients,\n    newOrderStatus: state.orderReducer.newOrder,\n    userId: state.signupReducer.userId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveOrderAction: newOrder => dispatch(actions.saveOrder(newOrder))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ContactData));","map":{"version":3,"sources":["/Users/tmg/Desktop/burger/src/components/ContactData/index.js"],"names":["React","connect","css","Button","Spinner","axios","withRouter","actions","ContactData","Component","state","name","city","street","changeName","e","setState","target","value","changeStreet","changeCity","saveOrder","newOrder","userId","props","orts","ingredients","dun","price","hayag","saveOrderAction","componentDidUpdate","newOrderStatus","finished","error","history","replace","render","console","log","saving","mapStateToProps","burgerReducer","totalPrice","orderReducer","signupReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport css from \"./style.module.css\";\r\nimport Button from \"../General/Button\";\r\nimport Spinner from \"../General/Spinner\";\r\nimport axios from \"../../axios-orders\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as actions from \"../../redux/actions/orderActions\";\r\n\r\nclass ContactData extends React.Component {\r\n  state = {\r\n    name: null,\r\n    city: null,\r\n    street: null\r\n  };\r\n\r\n  changeName = e => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  changeStreet = e => {\r\n    this.setState({ street: e.target.value });\r\n  };\r\n\r\n  changeCity = e => {\r\n    this.setState({ city: e.target.value });\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (\r\n      this.props.newOrderStatus.finished &&\r\n      !this.props.newOrderStatus.error\r\n    ) {\r\n      this.props.history.replace(\"/orders\");\r\n    }\r\n  }\r\n\r\n  saveOrder = () => {\r\n    const newOrder = {\r\n      userId: this.props.userId,\r\n      orts: this.props.ingredients,\r\n      dun: this.props.price,\r\n      hayag: {\r\n        name: this.state.name,\r\n        city: this.state.city,\r\n        street: this.state.street\r\n      }\r\n    };\r\n\r\n    this.props.saveOrderAction(newOrder);\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    return (\r\n      <div className={css.ContactData}>\r\n        Дүн : {this.props.price}₮\r\n        <div>\r\n          {this.props.newOrderStatus.error &&\r\n            `Захиалгыг хадгалах явцад алдаа гарлаа : ${this.props.newOrderStatus.error}`}\r\n        </div>\r\n        {this.props.newOrderStatus.saving ? (\r\n          <Spinner />\r\n        ) : (\r\n          <div>\r\n            <input\r\n              onChange={this.changeName}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Таны нэр\"\r\n            />\r\n            <input\r\n              onChange={this.changeStreet}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              placeholder=\"Таны гэрийн хаяг\"\r\n            />\r\n            <input\r\n              onChange={this.changeCity}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              placeholder=\"Таны хот\"\r\n            />\r\n            <Button\r\n              text=\"ИЛГЭЭХ\"\r\n              btnType=\"Success\"\r\n              daragdsan={this.saveOrder}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    price: state.burgerReducer.totalPrice,\r\n    ingredients: state.burgerReducer.ingredients,\r\n    newOrderStatus: state.orderReducer.newOrder,\r\n    userId: state.signupReducer.userId\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    saveOrderAction: newOrder => dispatch(actions.saveOrder(newOrder))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(ContactData));\r\n"]},"metadata":{},"sourceType":"module"}